
## INTRODUCTION

This case study was made as a final project for the Google Data Analytics Certificate. by analyzing FitBit Fitness Tracker Data to make useful insights for Bellabeat.

### following the data life cycle steps in this case study :

-   **ASK**
-   **Prepare**
-   **Process**
-   **Analyze**
-   **Share**
-   **Act**

## [1) ASK

### Background

Bellabeat is a high-tech manufacturer of beautifully-designed health-focused smart products for women since 2013.Bellabeat has grown rapidly and quickly positioned itself as a tech-driven wellness company for females.

The co-founder and Chief Creative Officer, Urška Sršen is confident that an analysis of non-Bellebeat consumer data (ie. FitBit fitness tracker usage data) would reveal more opportunities for growth.

### Business Task:

-   Analyze FitBit fitness tracker data to gain insights into how consumers are using the FitBit app.
-   discover trends for Bellabeat marketing strategy.

### Objectives:

<div>

1.  What are some trends in smart device usage?

</div>

<div>

2.  How could these trends apply to Bellabeat customers?

</div>

<div>

3.  How could these trends help influence Bellabeat marketing strategy?

</div>

### key stakeholders:

1.  Urška Sršen (Bellabeat's cofounder and Chief Creative Officer).

2.  Sando Mur (Mathematician and Bellabeat's cofounder).

3.  Bellabeat marketing analytics team.

## [2) Prepare

### Data Source:

-   Data is publicly available on Kaggle: FitBit Fitness Tracker Data.
-   stored in 18 csv files.
-   Generated by respondents from a survey via Amazon Mechanical Turk.
-   The data is close to 5 years old (12 March 2016 to 12 May 2016).
-   30 FitBit users consented to the submission of personal tracker data.

### Checking the data credibility with ROCCC :

(**R**eliable, **O**riginal, **C**omprehensive, **C**urrent, and **C**ited)

Classification by : (Low -> Medium -> High)

+----------------------+----------------+----------------------------------------------------------+
| ROCCC Characteristic | Classification | Comment                                                  |
+======================+================+==========================================================+
| **Reliable**         | LOW            | Not reliable as it only has 30 respondents.              |
+----------------------+----------------+----------------------------------------------------------+
| **Original**         | LOW            | Third party provider.                                    |
+----------------------+----------------+----------------------------------------------------------+
| **Comprehensive**    | MED            | Parameters match most of Bellabeat products' parameters. |
+----------------------+----------------+----------------------------------------------------------+
| **Current**          | LOW            | Data is 5 years old and may not be relevant.             |
+----------------------+----------------+----------------------------------------------------------+
| **Cited**            | LOW            | Data collected from third party, hence unknown.          |
+----------------------+----------------+----------------------------------------------------------+

#### Final assessment of the data source:

the dataset is considered bad quality data and not recommended for analysis and to produce business recommendations based on this data.

### Tool:

We are using **Rstudio** for data cleaning, transformation and visualization.

## [3) Process

The Data Must be cleaned for analysis.

### Cleaning Steps:

-   Install R packages and Observe the data.
-   Remove duplicate values
-   Remove empty rows

[Installing cleaning packages, Loading libraries for processing and analyzing data]

```{r cars}
library(tidyverse)
library(readxl)
library(lubridate)
```

[Importing Data]

```{r}
dailyActivity_merged <- read_csv("Fitabase Data 4.12.16-5.12.16/dailyActivity_merged.csv")
dailyCalories_merged <- read_csv("Fitabase Data 4.12.16-5.12.16/dailyCalories_merged.csv")
dailyIntensities_merged <- read_csv("Fitabase Data 4.12.16-5.12.16/dailyIntensities_merged.csv")
sleepDay_merged <- read_csv("Fitabase Data 4.12.16-5.12.16/sleepDay_merged.csv")
weightLogInfo_merged <- read_csv("Fitabase Data 4.12.16-5.12.16/weightLogInfo_merged.csv")
```

### Over viewing and Getting Familiar with datasets:

```{r}
daily_activity <- dailyActivity_merged
daily_calories <- dailyCalories_merged
daily_intensities <- dailyIntensities_merged
sleep_day <- sleepDay_merged
weight_log <- weightLogInfo_merged

head(daily_activity)
colnames(daily_activity)
glimpse(daily_activity)

head(daily_calories)
colnames(daily_calories)
glimpse(daily_calories)

head(sleep_day)
colnames(sleep_day)
glimpse(sleep_day)

head(weight_log)
colnames(weight_log)
glimpse(weight_log)

head(daily_intensities)
colnames(daily_intensities)
glimpse(daily_intensities)

```

### Data cleaning

#### A)Removing duplicates

Id and activity date should be unique (0 observations removed)

```{r}
daily_activity <- daily_activity %>%
  distinct(Id, ActivityDate, .keep_all = TRUE)
```

Id and activity date should be unique (3 observations removed)

```{r}
sleep_day <- sleep_day %>% 
  distinct(Id, SleepDay, .keep_all = TRUE)
```

Id and Date should be unique (0 observations removed)

```{r}
weight_log <- weight_log %>%
  distinct(Id, Date, .keep_all = TRUE)
```

#### B) Checking for NA values and removing if any exist

#### No NA value was found

```{r}
which(!complete.cases(daily_activity))
which(!complete.cases(sleep_day))
which(!complete.cases(daily_intensities))
```

in wight_Log there was (60) NA on FAT column

```{r}
which(!complete.cases(weight_log))
```

## [4) Analyze

#### For this case study I decided to use this merged 5 files:

-   daily_activity.

-   weight_log.

-   daily_intensities.

-   sleep_day.

#### Initial observations:

-   They all contain ID column.

-   daily_activity, daily_intensities and daily_calories has same Rows Number(940).

-   daily_activity contain all daily_calories attribute and daily\_ intensities.

### A) daily activity Trends:

-   Checking User Activity.

-   By grouping User into "Active" and "Non-Active" users.

-   Active users are those with average sum of high and medium daily activity over 50 minutes.

-   Will assume that user with total steps less than 700 the device was not used).

```{r}
daily_activity_on <- daily_activity[daily_activity$TotalSteps > 700, ]

```

-   Then we group by Id, and finding the mean for each activity

```{r}
daily_activity_users <- daily_activity_on %>% 
  group_by(Id) %>% 
  summarise(VeryActiveMinutes_av = mean(VeryActiveMinutes), 
            FairlyActiveMinutes_av = mean(FairlyActiveMinutes),
            LightlyActiveMinutes_av = mean(LightlyActiveMinutes),
            SedentaryMinutes_av = mean(SedentaryMinutes),
            Calories_av = mean(Calories))

daily_activity_users <- daily_activity_users %>% 
  mutate(very_fairly_active_avg = VeryActiveMinutes_av + FairlyActiveMinutes_av)

```

-   Creating a variable for active and non-active users

```{r}
daily_activity_users <- daily_activity_users %>% 
  mutate(active = ifelse(very_fairly_active_avg > 60, "active", "non-active"))
```

#### [Create a bar chart to visualize the Result :

```{r}
ggplot(data = daily_activity_users)+
  geom_bar(mapping = aes(x = active,  fill = active))+ 
  labs(title = "Active VS Non-active users", x = "Activity level", y = "Number of users")+
  theme(title = element_text(size=19, face="bold"),
        axis.title=element_text(size=17,face="bold"),
        legend.text=element_text(size=15))+ 
  guides(fill=guide_legend(title="Activity level"))
```

-   Less than 25% of respondents are users, who exercise at least 50 minutes a day.

-   Non-active group has a majority people in it.

-   We can assume that either an average user does not have an active lifestyle. Or does not wear a device during training.

### **B) daily_activity VS daily_calories & daily_intensities**

-   By creating temp data frame named it daily_activity_Temp

```{r}
daily_activity_Temp1 <- daily_activity %>%
  select(Id, ActivityDate, Calories)

head(daily_activity_Temp1)
glimpse(daily_activity_Temp1)
```

we check if the two data frames of daily_activity_Temp1 and daily_calories are same.

[**first we**]

install the (sqldf) package for ruining SQL statements on R data frames, optimized for convenience.

```{r}
library(sqldf)
```

```{r}
sql_check1 <- sqldf('SELECT * FROM daily_activity_Temp1 INTERSECT SELECT * FROM daily_calories')
head(sql_check1)
glimpse(sql_check1)
```

-   it's safe to assume that the values are the same between the data frames.

-   the same is true for daily intensities, so we can drop those two data frames from analysis.

#### That leaves us with (3) data frames:

-   daily_activity.

-   sleep_day.

-   weight_log.

let check the Number of Id's in daily_activity and sleep_day

```{r}
n_distinct(daily_activity$Id)
n_distinct(sleep_day$Id)
n_distinct(weight_log$Id)
```

let check the number of observation in each

```{r}
nrow(daily_activity)
nrow(sleep_day)
nrow(weight_log)
```

### Statistical Calculation summery

#### A) daily_activity

```{r}
daily_activity %>%
  select(TotalSteps, TotalDistance, VeryActiveMinutes, SedentaryMinutes, Calories) %>%
  summary()
```

#### B) sleep_day

```{r}
sleep_day %>%
  select(TotalSleepRecords, TotalMinutesAsleep, TotalTimeInBed) %>%
  summary()
```

#### C) weight_log

```{r}
weight_log %>%
  select(WeightKg,BMI) %>%
  summary()
```

## [5) Share

## few explorations

### [Total steps VS sedentary minutes

```{r}
ggplot(data = daily_activity, aes(x= TotalSteps, y= SedentaryMinutes, color= Calories)) +
  geom_point(color="#ca6708") +
   labs(title="Total steps VS Sedentary minutes", x="Total Steps", y="Sendentary Minutes")
```

-   Its look like negative relationship between total steps taken and sedentary Minutes.

### [Total steps VS Calories

```{r}
ggplot(data=daily_activity, aes(x=TotalSteps, y = Calories))+ 
  geom_point(color="#ca6708") +
   labs(title="Total steps VS Calories", x="Total Steps", y="Calories") + stat_smooth(method=lm)

```

-   Calories generally trend positively with total steps taking.

-   we can assume This shows that the data seem fairly accurate when it comes to recording steps and sedentary minutes.

-   we could also market the devices as a way to let people know how sedentary they actually are.

-   We can also note that sedentary time is not necessarily related to calories burned.

**in general the people who took the most total steps tended to burn the most calories however, there's a large spread there clustered towards the lower amounts.**

```{r}
calories.lm <- lm(Calories ~ TotalSteps, data = daily_activity)
calories.res <- resid(calories.lm)

plot(daily_activity$TotalSteps, calories.res, ylab="Residuals",xlab = "Total Steps", main = "Calories Burned", )

```

Now lets plot the density of the residuals

```{r}
plot(density(calories.res))
```

Checking for normality

```{r}
qqnorm(calories.res)
qqline(calories.res)
```

-   looks like the spread isn't as far statistically as we though

#### A potential strategy

-   In order to burn calories, you don't have to do high-intensity work outs, you can just get out there and start walking,

### Sleep VS Time in Bed

1:1 trend from the amount of time slept and the total time someone spends in bed

```{r}
ggplot(data=sleep_day, aes(x=TotalMinutesAsleep, y=TotalTimeInBed)) +
  geom_point(color="#ca6708") +
   labs(title="Total Minutes Sleep VS Total Time In Bed", x="Total Minutes Sleep", y="Total Time In Bed")

```

-   there are some outliers.some data points that spent a lot of time in bed, but didn't actually sleep, and then a small batch that slept a whole bunch and spent time in bed

-   We could definitely market to consumers to monitor their time in bed with the watch against their sleep time.and could add some apps like night meditation or any sleeping aids voice books.

### sedentary minutes VS Sleep

Merging these two datasets together

```{r}
combined_sleep_day_data <- merge(sleep_day, daily_activity, by="Id")
head(combined_sleep_day_data)

n_distinct(combined_sleep_day_data$Id)

```

-   there are only 24 unique id's in the combined dataset.

-   since only 24 users actively used the sleep data.

### Sedentary Time vs Time In Bed

```{r}
sedentary.lm <- lm(SedentaryMinutes ~ TotalTimeInBed, data = combined_sleep_day_data)
sedentary.lm
```

now a pearson correlation coefficient

```{r}
cor(combined_sleep_day_data$TotalTimeInBed,combined_sleep_day_data$SedentaryMinutes, method = "pearson")

```

-   As time in bed goes up, sedentary minutes actually go down, but not to a statistically significant degree.

### Very active minutes vs calories burned

```{r}
ggplot(data = combined_sleep_day_data, aes(x=VeryActiveMinutes, y=Calories)) + 
  geom_point(color="#ca6708") + geom_smooth(method = 'loess', formula = y ~ x) + 
  labs(title="Very Active Minutes vs. Calories Burned", x="VeryActiveMinutes", y="Calories Burned")
```

-   A Moderate relationship for fairly active minutes.

```{r}
ggplot(data = combined_sleep_day_data, aes(x=FairlyActiveMinutes, y=Calories)) + 
   geom_point(color="#ca6708") +
   labs(title="Fairly Active Minutes VS Calories", x="Fairly Active Minutes", y=" Calories")+
  stat_smooth(method = lm)

lm(Calories ~ FairlyActiveMinutes, data = combined_sleep_day_data)

```

## [6) Act

-   we will be delivering our insights and providing recommendations based on our analysis.

-   some trends has been identified and can be applied to Beallabeat.

## [Trends]

1.  **Only around 25% of the user can be called active.**

2.  **Less people track sleep as they become more experienced users.**

3.  **more people log their calories, steps taken, etc, and fewer users log their sleep data, and only a select few are logging their weight**

4.  **The proportion of night active users is relatively large.**

## Takeaway And Recommendations :

1.  **Adding some additional data capture techniques like hydration data, that puts Bellabeat way above the competition.**

2.  **We should focus on marketing the fact that collecting data will help you (customer) set goals.**

3.  **Marketing team can encourage users by educating and equipping them with knowledge about fitness benefits, suggest different types of exercise and calories intake and burnt rate information on the Bellabeat app. this provides a unique opportunity for individuals to change their behavior, become more physically active and increase their life expectancy.**

4.  **adding features like notifications,competitions into the wearable's ( eg. on weekends, Bellabeat app can rompt notification to encourage users to exercise)**

5.  **Add some sleep aids tools like meditation or audio book and its can be monetized.**

6.  **Make the device more comfortable on sleep and adding sleep tracking features.**

7.  **We could market to consumers by telling them smart-devices could help them start their journey by measuring how much they're already moving**.

